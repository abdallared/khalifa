# โ ุชู ุฅุถุงูุฉ Auto-Refresh ูุตูุญุฉ Agent Conversations

## ๐ **ุงูููุฒุฉ:**

ุชู ุฅุถุงูุฉ **Auto-refresh** ุชููุงุฆู ูู **10 ุซูุงูู** ูุตูุญุฉ ูุญุงุฏุซุงุช ุงูููุธู.

---

## ๐ **ุงูููุงุตูุงุช:**

### **ุงููุฏุฉ:**
- **Agent Conversations:** 10 ุซูุงูู โก (ุฃุณุฑุน)
- **Admin Agents:** 60 ุซุงููุฉ ๐ (ุฃุจุทุฃ)

### **ุงูุณุจุจ:**
- ุตูุญุฉ ุงููุญุงุฏุซุงุช ุชุญุชุงุฌ ุชุญุฏูุซ **ุฃุณุฑุน** ูุงุณุชูุจุงู ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ
- ุตูุญุฉ Agents ุชุญุชุงุฌ ุชุญุฏูุซ **ุฃุจุทุฃ** ูุฃู ุงูุจูุงูุงุช ูุง ุชุชุบูุฑ ุจุณุฑุนุฉ

---

## ๐จ **ุงูุดูู:**

```
โโ Header โโโโโโโโโโโโโโโ
โ                       โ
โ    [User Name โผ]      โ
โ    ๐ ON (10s) [OFF]  โ โ ููุง!
โ                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ุงููููุน:** ุฃุนูู ูููู ุงูุตูุญุฉ (ุชุญุช ุงุณู ุงูููุฒุฑ)

---

## ๐ **ููููุฉ ุงูุงุณุชุฎุฏุงู:**

### **1. ุงูุชุญ ุตูุญุฉ ุงููุญุงุฏุซุงุช:**
```
http://127.0.0.1:8888/agent/conversations/
```

### **2. ุดุงูุฏ ุงููุคุดุฑ:**
- ุณูุธูุฑ ูู ุฃุนูู ูููู ุงูุตูุญุฉ
- ุงูุนุฏ ุงูุชูุงุฒูู ูุจุฏุฃ ูู **10 ุซูุงูู**

### **3. ููุชุนุทูู:**
- ุงุถุบุท ุนูู ุฒุฑ **"OFF"**
- ุงููุคุดุฑ ุณูุชุญูู ูููู ุงูุฑูุงุฏู
- Auto-refresh ุณูุชููู

### **4. ููุชูุนูู ูุฑุฉ ุฃุฎุฑู:**
- ุงุถุบุท ุนูู ุฒุฑ **"ON"**
- ุงููุคุดุฑ ุณูุชุญูู ูููู ุงูุฃุฎุถุฑ
- ุงูุนุฏ ุงูุชูุงุฒูู ูุจุฏุฃ ูู ุฌุฏูุฏ

---

## ๐ก **ุงูููุงุฆุฏ:**

### **ููููุธู:**
1. โ **ุงุณุชูุจุงู ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ** ุจุณุฑุนุฉ (ูู 10 ุซูุงูู)
2. โ **ุชุญุฏูุซ ุญุงูุฉ ุงููุญุงุฏุซุงุช** ุชููุงุฆูุงู
3. โ **ุนุฏู ููุฏุงู ุฃู ุฑุณุงูุฉ** ูู ุงูุนููุงุก
4. โ **ุชุฌุฑุจุฉ ุฃูุฑุจ ูู WhatsApp Web**

### **ูููุธุงู:**
1. โ **ุชุญุฏูุซ ููุชุธู** ููุจูุงูุงุช
2. โ **ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ** ููุนููุงุก
3. โ **ุชูููู ููุช ุงูุงูุชุธุงุฑ**

---

## ๐ **ุงูููุงุฑูุฉ:**

| ุงูุตูุญุฉ | ุงููุฏุฉ | ุงูุณุจุจ |
|--------|-------|-------|
| **Agent Conversations** | 10s โก | ุฑุณุงุฆู ุฌุฏูุฏุฉ ุชุฃุชู ุจุณุฑุนุฉ |
| **Admin Agents** | 60s ๐ | ุจูุงูุงุช ุงูููุธููู ูุง ุชุชุบูุฑ ูุซูุฑุงู |

---

## ๐ฏ **ุงูุณููุงุฑูููุงุช:**

### **ุณููุงุฑูู 1: ุงุณุชูุจุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ**
```
1. ุนููู ูุฑุณู ุฑุณุงูุฉ
2. ุงูููุธู ููุชุธุฑ (ุฃูุตู 10 ุซูุงูู)
3. ุงูุตูุญุฉ ุชุชุญุฏุซ ุชููุงุฆูุงู
4. ุงูุฑุณุงูุฉ ุชุธูุฑ ูู ุงููุงุฆูุฉ
โ ุงููุชูุฌุฉ: ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ
```

### **ุณููุงุฑูู 2: ุชุญุฏูุซ ุญุงูุฉ ุงููุญุงุฏุซุฉ**
```
1. ููุธู ุขุฎุฑ ูุฑุฏ ุนูู ุนููู
2. ุงูุตูุญุฉ ุชุชุญุฏุซ (ูู 10 ุซูุงูู)
3. ุญุงูุฉ ุงููุญุงุฏุซุฉ ุชุชุญุฏุซ
โ ุงููุชูุฌุฉ: ุจูุงูุงุช ูุญุฏุซุฉ ุฏุงุฆูุงู
```

### **ุณููุงุฑูู 3: ุฅููุงู Auto-refresh ูุคูุชุงู**
```
1. ุงูููุธู ููุชุจ ุฑุณุงูุฉ ุทูููุฉ
2. ูุถุบุท "OFF" ูุฅููุงู ุงูุชุญุฏูุซ
3. ูููู ูุชุงุจุฉ ุงูุฑุณุงูุฉ
4. ูุถุบุท "ON" ูุชูุนูู ุงูุชุญุฏูุซ
โ ุงููุชูุฌุฉ: ูุง ูููุฏ ูุง ูุชุจู
```

---

## ๐ง **ุงูุชูุงุตูู ุงูุชูููุฉ:**

### **ุงูููุฏ:**

```javascript
// Auto-refresh every 10 seconds
let countdown = 10;  // โ 10 ุซูุงูู ุจุฏูุงู ูู 60

// Countdown timer
setInterval(function() {
    if (autoRefreshEnabled) {
        countdown--;
        countdownElement.textContent = `ON (${countdown}s)`;
        
        if (countdown <= 0) {
            location.reload();  // ุชุญุฏูุซ ุงูุตูุญุฉ
        }
    }
}, 1000);
```

---

## โ๏ธ **ุงูุชุฎุตูุต:**

### **ูุชุบููุฑ ุงููุฏุฉ:**

ูู `System/templates/agent/conversations.html`:

```javascript
// ุบูุฑ 10 ุฅูู ุงููุฏุฉ ุงููุทููุจุฉ (ุจุงูุซูุงูู)
let countdown = 10;  // โ ุบูุฑ ููุง
```

**ุฃูุซูุฉ:**
- `countdown = 5;`  โ 5 ุซูุงูู (ุณุฑูุน ุฌุฏุงู)
- `countdown = 15;` โ 15 ุซุงููุฉ (ูุชูุณุท)
- `countdown = 30;` โ 30 ุซุงููุฉ (ุจุทูุก)

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

### **Test Case 1: Auto-refresh ูุนูู**
```
1. ุงูุชุญ ุตูุญุฉ ุงููุญุงุฏุซุงุช
2. ุงูุชุธุฑ 10 ุซูุงูู
โ ุงููุชูุฌุฉ: ุงูุตูุญุฉ ุชุชุญุฏุซ ุชููุงุฆูุงู
```

### **Test Case 2: ุงูุนุฏ ุงูุชูุงุฒูู ุตุญูุญ**
```
1. ุงูุชุญ ุตูุญุฉ ุงููุญุงุฏุซุงุช
2. ุฑุงูุจ ุงูุนุฏ ุงูุชูุงุฒูู
โ ุงููุชูุฌุฉ: ูููุต ูู ุซุงููุฉ (10, 9, 8, ...)
```

### **Test Case 3: ุฒุฑ OFF ูุนูู**
```
1. ุงูุชุญ ุตูุญุฉ ุงููุญุงุฏุซุงุช
2. ุงุถุบุท "OFF"
3. ุงูุชุธุฑ 10 ุซูุงูู
โ ุงููุชูุฌุฉ: ุงูุตูุญุฉ ูุง ุชุชุญุฏุซ
```

### **Test Case 4: ุงุณุชูุจุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ**
```
1. ุงูุชุญ ุตูุญุฉ ุงููุญุงุฏุซุงุช
2. ุฃุฑุณู ุฑุณุงูุฉ ูู WhatsApp
3. ุงูุชุธุฑ (ุฃูุตู 10 ุซูุงูู)
โ ุงููุชูุฌุฉ: ุงูุฑุณุงูุฉ ุชุธูุฑ ุจุนุฏ ุงูุชุญุฏูุซ
```

---

## ๐ **ููุงุญุธุงุช:**

1. โ Auto-refresh **ููุนูู ุงูุชุฑุงุถูุงู** ุนูุฏ ูุชุญ ุงูุตูุญุฉ
2. โ ุงููุฏุฉ **10 ุซูุงูู** ููุงุณุจุฉ ูููุญุงุฏุซุงุช
3. โ ูููู ุชุนุทููู ูุคูุชุงู ุนูุฏ ุงูุญุงุฌุฉ
4. โ๏ธ ุฅุฐุง ูุงู ููุงู modal ููุชูุญุ ุณููุบูู ุนูุฏ ุงูุชุญุฏูุซ
5. โ๏ธ ุฅุฐุง ูุงู ุงูููุธู ููุชุจ ุฑุณุงูุฉุ ุณูููุฏูุง ุนูุฏ ุงูุชุญุฏูุซ (ุนุทูู Auto-refresh ูุคูุชุงู)

---

## ๐ก **ูุตุงุฆุญ ููุงุณุชุฎุฏุงู:**

### **ููููุธู:**
1. โ ุงุชุฑู Auto-refresh **ููุนูู** ุทูุงู ุงูููุช
2. โ๏ธ ุนุทููู ูุคูุชุงู ุนูุฏ ูุชุงุจุฉ ุฑุณุงูุฉ ุทูููุฉ
3. โ ูุนููู ูุฑุฉ ุฃุฎุฑู ุจุนุฏ ุงูุฅุฑุณุงู

### **ูููุฏูุฑ:**
1. โ ุงููุฏุฉ 10 ุซูุงูู ููุงุณุจุฉ ูููุญุงุฏุซุงุช
2. โ๏ธ ุฅุฐุง ูุงู ุงูุณูุฑูุฑ ุจุทูุกุ ุฒุฏ ุงููุฏุฉ ูู 15-20 ุซุงููุฉ
3. โ ุฑุงูุจ ุงุณุชููุงู ุงูููุงุฑุฏ

---

## ๐ฎ **ุชุญุณููุงุช ูุณุชูุจููุฉ (ุงุฎุชูุงุฑู):**

1. ุฅููุงู Auto-refresh ุชููุงุฆูุงู ุนูุฏ ุงููุชุงุจุฉ ูู ุญูู ุงูุฑุณุงูุฉ
2. ุฅุถุงูุฉ WebSocket ููุชุญุฏูุซ ุงูููุฑู (ุจุฏูู refresh)
3. ุนุฑุถ ุฅุดุนุงุฑ ุนูุฏ ูุตูู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
4. ุฅุถุงูุฉ ุตูุช ุชูุจูู
5. ุญูุธ ุงูุฅุนุฏุงุฏ ูู localStorage

---

## ๐ **ุงููููุงุช ุงููุนุฏูุฉ:**

1. โ `System/templates/agent/conversations.html`
   - ุฅุถุงูุฉ Auto-refresh indicator
   - ูุฏุฉ: 10 ุซูุงูู
   - ูููุน: ุฃุนูู ูููู

2. โ `System/templates/admin/agents.html`
   - Auto-refresh indicator
   - ูุฏุฉ: 60 ุซุงููุฉ
   - ูููุน: ุฃุนูู ูููู

---

**ุชู ุจูุฌุงุญ! ๐**

ุตูุญุฉ ุงููุญุงุฏุซุงุช ุงูุขู ุชุชุญุฏุซ ุชููุงุฆูุงู ูู 10 ุซูุงูู ูุงุณุชูุจุงู ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ ุจุณุฑุนุฉ.
