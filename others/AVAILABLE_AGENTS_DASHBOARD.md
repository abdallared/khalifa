# โ ุชู ุฅุถุงูุฉ "Available Agents Now" ูู Dashboard

## ๐ **ุงูููุฒุฉ:**

ุชู ุฅุถุงูุฉ ูุณู **"ุงูููุธููู ุงููุชุงุญูู ุงูุขู"** ูู ุตูุญุฉ Dashboard ูููุฏูุฑ.

---

## ๐ฏ **ุงูููููุงุช:**

### **1. Statistics Card**
- **ุงููููุน:** ุฃูู card ูู ุงูุตู ุงูุฃูู
- **ุงูููู:** ๐ข ุฃุฎุถุฑ (Success)
- **ุงูุฃููููุฉ:** `fa-user-check`
- **ุงููุญุชูู:**
  - ุงูุนุฏุฏ ุงูููู ููููุธููู ุงููุชุงุญูู
  - ูุต "Online & Available"

### **2. Available Agents List**
- **ุงููููุน:** ูุณู ูุงูู ูุจู "ุขุฎุฑ ุงูุชุฐุงูุฑ"
- **ุงูุนุฑุถ:** Grid (3 columns)
- **ุงููุญุชูู ููู ููุธู:**
  - Avatar (ุฃูู ุญุฑู ูู ุงูุงุณู)
  - ุงูุงุณู ุงููุงูู
  - Badge "Online" (ุฃุฎุถุฑ)
  - ุนุฏุฏ ุงูุชุฐุงูุฑ ุงูุญุงููุฉ / ุงูุณุนุฉ ุงููุตูู

---

## ๐ **ุงูุดุฑูุท:**

ุงูููุธู ูุธูุฑ ูู ุงููุงุฆูุฉ ุฅุฐุง:
1. โ **is_active = True** (ุงูุญุณุงุจ ูุดุท)
2. โ **is_online = True** (ูุชุตู)
3. โ **status = 'available'** (ูุชุงุญ)

---

## ๐จ **ุงูุดูู:**

### **Statistics Card:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงูููุธููู ุงููุชุงุญูู ุงูุขู          โ
โ                                 โ
โ        5                        โ
โ   Online & Available            โ
โ                          โ      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### **Agents List:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงูููุธููู ุงููุชุงุญูู ุงูุขู [5]    [ุฌููุน ุงูููุธููู] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                 โ
โ  โโโโโโโโโโโโ  โโโโโโโโโโโโ  โโโโโโโโโโโโ     โ
โ  โ A        โ  โ M        โ  โ S        โ     โ
โ  โ ุฃุญูุฏ ูุญูุฏ โ  โ ูุญูุฏ ุนูู โ  โ ุณุงุฑุฉ ุฃุญูุฏโ     โ
โ  โ โ Online โ  โ โ Online โ  โ โ Online โ     โ
โ  โ 3/15 ุชุฐุงูุฑโ  โ 5/15 ุชุฐุงูุฑโ  โ 2/10 ุชุฐุงูุฑโ     โ
โ  โโโโโโโโโโโโ  โโโโโโโโโโโโ  โโโโโโโโโโโโ     โ
โ                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ก **ุงูููุงุฆุฏ:**

### **ูููุฏูุฑ:**
1. โ **ุฑุคูุฉ ููุฑูุฉ** ูุนุฏุฏ ุงูููุธููู ุงููุชุงุญูู
2. โ **ูุนุฑูุฉ ูู ูุชุตู** ุงูุขู
3. โ **ูุชุงุจุนุฉ ุญูู ุงูุนูู** ููู ููุธู
4. โ **ุงุชุฎุงุฐ ูุฑุงุฑุงุช ุณุฑูุนุฉ** ูู ุชูุฒูุน ุงูุชุฐุงูุฑ

### **ูููุธุงู:**
1. โ **ุดูุงููุฉ** ูู ุญุงูุฉ ุงูููุธููู
2. โ **ุชุญุณูู ุงูุชูุฒูุน** ููุชุฐุงูุฑ ุงูุฌุฏูุฏุฉ
3. โ **ุชุญุฏูุฏ ุงูุงุฎุชูุงูุงุช** ุจุณุฑุนุฉ

---

## ๐ **ุงูุชุญุฏูุซ ุงูุชููุงุฆู:**

ุงูุตูุญุฉ ุชุชุญุฏุซ ุชููุงุฆูุงู ูู **60 ุซุงููุฉ** (Auto-refresh ููุฌูุฏ ุจุงููุนู).

---

## ๐ **ุงูุญุงูุงุช ุงููุฎุชููุฉ:**

### **ุญุงูุฉ 1: ููุฌุฏ ููุธููู ูุชุงุญูู**
```
ุงูููุธููู ุงููุชุงุญูู ุงูุขู: 5

[ุฃุญูุฏ ูุญูุฏ] [ูุญูุฏ ุนูู] [ุณุงุฑุฉ ุฃุญูุฏ] ...
```

### **ุญุงูุฉ 2: ูุง ููุฌุฏ ููุธููู ูุชุงุญูู**
```
ุงูููุธููู ุงููุชุงุญูู ุงูุขู: 0

    ๐ค
ูุง ููุฌุฏ ููุธููู ูุชุงุญูู ุญุงููุงู
```

---

## ๐ฏ **ุงูุณููุงุฑูููุงุช:**

### **ุณููุงุฑูู 1: ูุฑุงูุจุฉ ุงูููุธููู**
```
1. ุงููุฏูุฑ ููุชุญ Dashboard
2. ูุดุงูุฏ "5 ููุธููู ูุชุงุญูู"
3. ูุฑู ูุงุฆูุฉ ุจุฃุณูุงุฆูู ูุญูู ุงูุนูู
โ ุงููุชูุฌุฉ: ูุนุฑูุฉ ูู ูุชุงุญ ููุนูู
```

### **ุณููุงุฑูู 2: ุงูุชุดุงู ูุดููุฉ**
```
1. ุงููุฏูุฑ ููุชุญ Dashboard
2. ูุดุงูุฏ "0 ููุธููู ูุชุงุญูู"
3. ูุฐูุจ ูุตูุญุฉ Agents ููุชุญูู
โ ุงููุชูุฌุฉ: ุงูุชุดุงู ุงููุดููุฉ ุจุณุฑุนุฉ
```

### **ุณููุงุฑูู 3: ุชูุฒูุน ุงูุชุฐุงูุฑ**
```
1. ุงููุฏูุฑ ูุดุงูุฏ ููุธู ูุฏูู 2/15 ุชุฐุงูุฑ
2. ูุนุฑู ุฃูู ูุชุงุญ ูุงุณุชูุจุงู ุงููุฒูุฏ
3. ูููู ุชุนููู ุชุฐุงูุฑ ูู ูุฏููุงู
โ ุงููุชูุฌุฉ: ุชูุฒูุน ุฃูุถู ููุนูู
```

---

## ๐ง **ุงูุชูุงุตูู ุงูุชูููุฉ:**

### **View (views_frontend.py):**

```python
# ุงูููุธููู ุงููุชุงุญูู ุงูุขู
available_agents = Agent.objects.filter(
    user__is_active=True,
    is_online=True,
    status='available'
).select_related('user').order_by('user__full_name')

available_agents_count = available_agents.count()
```

### **Template (dashboard.html):**

```django
<!-- Statistics Card -->
<div class="col-md-3">
    <div class="card stat-card bg-success-light">
        <h6>ุงูููุธููู ุงููุชุงุญูู ุงูุขู</h6>
        <h2>{{ available_agents_count }}</h2>
        <small>Online & Available</small>
    </div>
</div>

<!-- Agents List -->
{% for agent in available_agents %}
<div class="agent-card">
    <div class="avatar">{{ agent.user.full_name|slice:":1" }}</div>
    <h6>{{ agent.user.full_name }}</h6>
    <span class="badge bg-success">โ Online</span>
    <small>{{ agent.current_active_tickets }}/{{ agent.max_capacity }} ุชุฐุงูุฑ</small>
</div>
{% endfor %}
```

---

## ๐ **ุงูุฅุญุตุงุฆูุงุช:**

### **ูุจู:**
```
Dashboard Cards:
1. ุฅุฌูุงูู ุงูููุธููู
2. ุฅุฌูุงูู ุงูุนููุงุก
3. ุฅุฌูุงูู ุงูุชุฐุงูุฑ
4. ุงูุชุฐุงูุฑ ุงููุชุฃุฎุฑุฉ
```

### **ุจุนุฏ:**
```
Dashboard Cards:
1. ุงูููุธููู ุงููุชุงุญูู ุงูุขู โ ุฌุฏูุฏ! โจ
2. ุฅุฌูุงูู ุงูููุธููู
3. ุฅุฌูุงูู ุงูุนููุงุก
4. ุฅุฌูุงูู ุงูุชุฐุงูุฑ
5. ุงูุชุฐุงูุฑ ุงููุชุฃุฎุฑุฉ
```

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

### **Test Case 1: ุนุฑุถ ุงูููุธููู ุงููุชุงุญูู**
```
1. ุงูุชุญ Dashboard
2. ุดุงูุฏ Card "ุงูููุธููู ุงููุชุงุญูู ุงูุขู"
โ ุงููุชูุฌุฉ: ูุนุฑุถ ุงูุนุฏุฏ ุงูุตุญูุญ
```

### **Test Case 2: ูุงุฆูุฉ ุงูููุธููู**
```
1. ุงูุชุญ Dashboard
2. scroll ููุฃุณูู
3. ุดุงูุฏ ูุณู "ุงูููุธููู ุงููุชุงุญูู ุงูุขู"
โ ุงููุชูุฌุฉ: ูุนุฑุถ ูุงุฆูุฉ ุจุงูููุธููู
```

### **Test Case 3: ููุธู ูุณุฌู ุฏุฎูู**
```
1. ุงูุชุญ Dashboard (0 ููุธููู)
2. ููุธู ูุณุฌู ุฏุฎูู
3. ุงูุชุธุฑ 60 ุซุงููุฉ (Auto-refresh)
โ ุงููุชูุฌุฉ: ุงูุนุฏุฏ ูุชุญุฏุซ ูู 1
```

### **Test Case 4: ููุธู ูุณุฌู ุฎุฑูุฌ**
```
1. ุงูุชุญ Dashboard (5 ููุธููู)
2. ููุธู ูุณุฌู ุฎุฑูุฌ
3. ุงูุชุธุฑ 60 ุซุงููุฉ (Auto-refresh)
โ ุงููุชูุฌุฉ: ุงูุนุฏุฏ ูุชุญุฏุซ ูู 4
```

---

## ๐ **ููุงุญุธุงุช:**

1. โ ุงูููุธููู **ูุฑุชุจูู ุฃุจุฌุฏูุงู** ุญุณุจ ุงูุงุณู
2. โ ูุนุฑุถ **ุงูุงุณู ุงููุงูู** (full_name) ุฃู username
3. โ Badge "Online" ุจุงูููู **ุงูุฃุฎุถุฑ**
4. โ ูุนุฑุถ **ุญูู ุงูุนูู** (3/15 ุชุฐุงูุฑ)
5. โ Auto-refresh ูู **60 ุซุงููุฉ**

---

## ๐จ **ุงูุฃููุงู:**

- **Card Background:** `rgba(40, 167, 69, 0.1)` (ุฃุฎุถุฑ ูุงุชุญ)
- **Number Color:** `#28a745` (ุฃุฎุถุฑ)
- **Icon Background:** `#28a745` (ุฃุฎุถุฑ)
- **Badge:** `bg-success` (ุฃุฎุถุฑ)

---

## ๐ฎ **ุชุญุณููุงุช ูุณุชูุจููุฉ (ุงุฎุชูุงุฑู):**

1. ุฅุถุงูุฉ ููุชุฑ ูุนุฑุถ ุงูููุธููู ุญุณุจ ุงูุญุงูุฉ (Available, Busy, On Break)
2. ุนุฑุถ ุงูููุธููู ุงูู Busy ุฃูุถุงู ูุน badge ูุฎุชูู
3. ุฅุถุงูุฉ ุฒุฑ "Assign Ticket" ุจุฌุงูุจ ูู ููุธู
4. ุนุฑุถ ุขุฎุฑ ูุดุงุท ููููุธู
5. ุฅุถุงูุฉ WebSocket ููุชุญุฏูุซ ุงูููุฑู

---

## ๐ **ุงููููุงุช ุงููุนุฏูุฉ:**

1. โ `System/conversations/views_frontend.py`
   - ุฅุถุงูุฉ query ููููุธููู ุงููุชุงุญูู
   - ุฅุถุงูุฉ available_agents ู available_agents_count ููู context

2. โ `System/templates/admin/dashboard.html`
   - ุฅุถุงูุฉ Statistics Card
   - ุฅุถุงูุฉ Available Agents List
   - ุฅุถุงูุฉ CSS ููู agent cards

---

**ุชู ุจูุฌุงุญ! ๐**

Dashboard ุงูุขู ูุนุฑุถ ุงูููุธููู ุงููุชุงุญูู ุจุดูู ูุงุถุญ ูููุธู.
