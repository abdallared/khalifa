# ๐ ุฏููู ุฅุฏุงุฑุฉ ุงูููุธููู - Agent Management Guide

**ุงูุชุงุฑูุฎ:** 2025-11-01  
**ุงูุญุงูุฉ:** โ ููุชูู ูููุนูู ุจุงููุงูู  
**ุงููุณุฎุฉ:** 1.0

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชูุนูู ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู ุจุงููุงูู ูู ุตูุฏููุงุช ุฎูููุฉุ ููุดูู:

โ **ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ** - ูุน ุฅูุดุงุก ุญุณุงุจ ูุณุชุฎุฏู ุชููุงุฆูุงู  
โ **ุชุนุฏูู ุจูุงูุงุช ุงูููุธู** - ุชุญุฏูุซ ุงููุนูููุงุช ุงูุดุฎุตูุฉ ูุงูุฅุนุฏุงุฏุงุช  
โ **ุชูุนูู/ุชุนุทูู ุงูููุธู** - ุงูุชุญูู ูู ุญุงูุฉ ุงูููุธู  
โ **ุนุฑุถ ุชูุงุตูู ุงูููุธู** - ุนุฑุถ ูุงูู ุงูุจูุงูุงุช ูุงูุฅุญุตุงุฆูุงุช  
โ **ุชุญููู ุงูุชุฐุงูุฑ** - ููู ุงูุชุฐุงูุฑ ุจูู ุงูููุธููู  

---

## ๐ง ุงููุธุงุฆู ุงููุชุงุญุฉ

### 1๏ธโฃ ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ

**ุงูุตูุญุฉ:** `/admin/agents/`  
**ุงูุฒุฑ:** "ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ"  
**API Endpoint:** `POST /api/agents/create_with_user/`

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
    "username": "agent1",           // ูุทููุจ
    "password": "password123",      // ูุทููุจ
    "full_name": "ุฃุญูุฏ ูุญูุฏ",       // ูุทููุจ
    "email": "agent1@example.com",  // ุงุฎุชูุงุฑู
    "phone": "01234567890",         // ุงุฎุชูุงุฑู
    "max_capacity": 15,             // ุงูุชุฑุงุถู: 15
    "status": "offline"             // ุงูุชุฑุงุถู: offline
}
```

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ `/admin/agents/`
2. ุงุถุบุท ุนูู ุฒุฑ "ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ"
3. ุงููุฃ ุงูุจูุงูุงุช ุงููุทููุจุฉ
4. ุงุถุบุท "ุญูุธ"

**ุงููุชูุฌุฉ:**
- โ ุฅูุดุงุก ุญุณุงุจ User ุฌุฏูุฏ ุจุฏูุฑ `agent`
- โ ุฅูุดุงุก ุณุฌู Agent ูุฑุชุจุท ุจุงููุณุชุฎุฏู
- โ ุชุณุฌูู ุงููุดุงุท ูู Activity Log
- โ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ูุนุฑุถ ุงูููุธู ุงูุฌุฏูุฏ

---

### 2๏ธโฃ ุชุนุฏูู ุจูุงูุงุช ุงูููุธู

**ุงูุตูุญุฉ:** `/admin/agents/`  
**ุงูุฒุฑ:** ุฃููููุฉ ุงูุชุนุฏูู (ููู) ุจุฌุงูุจ ุงุณู ุงูููุธู  
**API Endpoints:**
- `PATCH /api/users/{user_id}/` - ูุชุญุฏูุซ ุจูุงูุงุช ุงููุณุชุฎุฏู
- `PATCH /api/agents/{agent_id}/` - ูุชุญุฏูุซ ุจูุงูุงุช ุงูููุธู

**ุงูุจูุงูุงุช ุงููุงุจูุฉ ููุชุนุฏูู:**
- ุงูุงุณู ุงููุงูู
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุฑูู ุงููุงุชู
- ุงูุณุนุฉ ุงููุตูู (max_capacity)
- ุงูุญุงูุฉ (status)

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ `/admin/agents/`
2. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุชุนุฏูู ุจุฌุงูุจ ุงูููุธู
3. ุนุฏูู ุงูุจูุงูุงุช ุงููุทููุจุฉ
4. ุงุถุบุท "ุญูุธ ุงูุชุนุฏููุงุช"

**ุงููุชูุฌุฉ:**
- โ ุชุญุฏูุซ ุจูุงูุงุช User
- โ ุชุญุฏูุซ ุจูุงูุงุช Agent
- โ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ูุนุฑุถ ุงูุชุนุฏููุงุช

---

### 3๏ธโฃ ุชูุนูู/ุชุนุทูู ุงูููุธู

**ุงูุตูุญุฉ:** `/admin/agents/`  
**ุงูุฒุฑ:** ุฃููููุฉ ุงูุชูุนูู/ุงูุชุนุทูู ุจุฌุงูุจ ุงุณู ุงูููุธู  
**API Endpoint:** `PATCH /api/agents/{agent_id}/toggle_status/`

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
    "is_active": true  // ุฃู false
}
```

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ `/admin/agents/`
2. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุชูุนูู/ุงูุชุนุทูู
3. ุฃููุฏ ุงูุนูููุฉ

**ุงููุชูุฌุฉ:**
- โ ุชุญุฏูุซ ุญุงูุฉ `is_active` ูููุณุชุฎุฏู
- โ ุฅุฐุง ุชู ุงูุชุนุทูู: ุชุญุฏูุซ `is_online = False` ู `status = 'offline'`
- โ ุชุณุฌูู ุงููุดุงุท ูู Activity Log
- โ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ

---

### 4๏ธโฃ ุนุฑุถ ุชูุงุตูู ุงูููุธู

**ุงูุตูุญุฉ:** `/admin/agents/`  
**ุงูุฒุฑ:** ุฃููููุฉ ุงูุนูู ุจุฌุงูุจ ุงุณู ุงูููุธู  
**API Endpoint:** `GET /api/agents/{agent_id}/`

**ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ:**
- ุงูุงุณู ุงููุงูู
- ุงุณู ุงููุณุชุฎุฏู
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุฑูู ุงููุงุชู
- ุงูุณุนุฉ ุงููุตูู
- ุงูุชุฐุงูุฑ ุงูุญุงููุฉ
- ุงูุณุนุฉ ุงููุชุงุญุฉ
- ุงูุญุงูุฉ (status)
- ูุชุตู/ุบูุฑ ูุชุตู
- ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุฑุณูุฉ
- ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุณุชููุฉ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ `/admin/agents/`
2. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุนูู ุจุฌุงูุจ ุงูููุธู
3. ุงุนุฑุถ ุงูุชูุงุตูู ูู ุงููุงูุฐุฉ ุงูููุจุซูุฉ

---

### 5๏ธโฃ ุชุญููู ุงูุชุฐูุฑุฉ

**ุงูุตูุญุฉ:** `/admin/tickets/`  
**ุงูุฒุฑ:** ุฃููููุฉ ุงูุชุญููู ุจุฌุงูุจ ุงูุชุฐูุฑุฉ  
**API Endpoint:** `POST /api/tickets/{ticket_id}/transfer/`

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
    "agent_id": 2,                    // ูุทููุจ
    "reason": "ุณุจุจ ุงูุชุญููู"           // ุงุฎุชูุงุฑู
}
```

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ `/admin/tickets/`
2. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุชุญููู ุจุฌุงูุจ ุงูุชุฐูุฑุฉ
3. ุงุฎุชุฑ ุงูููุธู ุงูุฌุฏูุฏ ูู ุงููุงุฆูุฉ
4. ุงูุชุจ ุณุจุจ ุงูุชุญููู (ุงุฎุชูุงุฑู)
5. ุงุถุบุท "ุชุญููู"

**ุงููุชูุฌุฉ:**
- โ ููู ุงูุชุฐูุฑุฉ ูู ุงูููุธู ุงููุฏูู ุฅูู ุงูุฌุฏูุฏ
- โ ุชุญุฏูุซ ุนุฏุฏ ุงูุชุฐุงูุฑ ุงููุดุทุฉ ูููุง ุงูููุธููู
- โ ุชุญุฏูุซ ุญุงูุฉ ุงูููุธููู (available/busy)
- โ ุชุณุฌูู ุงูููู ูู `TicketTransferLog`
- โ ุชุณุฌูู ุงููุดุงุท ูู Activity Log

---

### 6๏ธโฃ ุฅุบูุงู ุงูุชุฐูุฑุฉ

**ุงูุตูุญุฉ:** `/admin/tickets/`  
**ุงูุฒุฑ:** ุฃููููุฉ ุงูุฅุบูุงู (โ) ุจุฌุงูุจ ุงูุชุฐูุฑุฉ  
**API Endpoint:** `POST /api/tickets/{ticket_id}/close/`

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
    "reason": "ุณุจุจ ุงูุฅุบูุงู"  // ุงุฎุชูุงุฑู
}
```

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ `/admin/tickets/`
2. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุฅุบูุงู ุจุฌุงูุจ ุงูุชุฐูุฑุฉ
3. ุงูุชุจ ุณุจุจ ุงูุฅุบูุงู (ุงุฎุชูุงุฑู)
4. ุฃููุฏ ุงูุนูููุฉ

**ุงููุชูุฌุฉ:**
- โ ุชุญุฏูุซ ุญุงูุฉ ุงูุชุฐูุฑุฉ ุฅูู `closed`
- โ ุชุณุฌูู ููุช ุงูุฅุบูุงู
- โ ุญุณุงุจ ููุช ุงููุนุงูุฌุฉ
- โ ุชุญุฏูุซ ุนุฏุฏ ุงูุชุฐุงูุฑ ุงููุดุทุฉ ููููุธู
- โ ุชุณุฌูู ุงูุชุบููุฑ ูู `TicketStateLog`

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงููุคุดุฑุงุช

### ูุคุดุฑุงุช ุงูููุธู (Agent KPIs)

**API Endpoint:** `GET /api/agents/{agent_id}/kpi/`

**ุงููุคุดุฑุงุช ุงููุชุงุญุฉ:**
- ุฅุฌูุงูู ุงูุชุฐุงูุฑ
- ุงูุชุฐุงูุฑ ุงููุบููุฉ
- ูุชูุณุท ููุช ุงูุฑุฏ
- ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุฑุณูุฉ
- ุนุฏุฏ ุงูุฑุณุงุฆู ุงููุณุชููุฉ
- ุนุฏุฏ ุงูุชุฃุฎูุฑุงุช
- ูุนุฏู ุฑุถุง ุงูุนููุงุก
- ูุนุฏู ุงูุญู ูู ุฃูู ูุฑุฉ
- ุงููุชูุฌุฉ ุงูุฅุฌูุงููุฉ

---

## ๐ ุงูุตูุงุญูุงุช

### ุตูุงุญูุงุช ุงููุฏูุฑ (Admin)
โ ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ  
โ ุชุนุฏูู ุจูุงูุงุช ุงูููุธู  
โ ุชูุนูู/ุชุนุทูู ุงูููุธู  
โ ุนุฑุถ ุชูุงุตูู ุงูููุธู  
โ ุชุญููู ุงูุชุฐุงูุฑ  
โ ุฅุบูุงู ุงูุชุฐุงูุฑ  
โ ุนุฑุถ ุฌููุน ุงูุฅุญุตุงุฆูุงุช  

### ุตูุงุญูุงุช ุงูููุธู (Agent)
โ ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ  
โ ุชุนุฏูู ุจูุงูุงุช ููุธู ุขุฎุฑ  
โ ุชูุนูู/ุชุนุทูู ููุธู  
โ ุนุฑุถ ุชูุงุตููู ุงูุดุฎุตูุฉ  
โ ุชุญููู ุชุฐุงูุฑู ุงูุฎุงุตุฉ (ุฅุฐุง ุณููุญ ูู)  
โ ุฅุบูุงู ุชุฐุงูุฑู ุงูุฎุงุตุฉ  
โ ุนุฑุถ ุฅุญุตุงุฆูุงุชู ุงูุดุฎุตูุฉ  

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ููุธู

```bash
curl -X POST http://127.0.0.1:8000/api/agents/create_with_user/ \
  -H "Content-Type: application/json" \
  -H "X-CSRFToken: YOUR_CSRF_TOKEN" \
  -d '{
    "username": "test_agent",
    "password": "test123",
    "full_name": "ููุธู ุชุฌุฑูุจู",
    "email": "test@example.com",
    "phone": "01234567890",
    "max_capacity": 10
  }'
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```json
{
    "success": true,
    "data": {
        "id": 5,
        "user": {
            "id": 10,
            "username": "test_agent",
            "full_name": "ููุธู ุชุฌุฑูุจู",
            "role": "agent"
        },
        "max_capacity": 10,
        "current_active_tickets": 0,
        "status": "offline"
    },
    "message": "ุชู ุฅูุดุงุก ุงูููุธู ุจูุฌุงุญ"
}
```

---

## โ ุงูุฎูุงุตุฉ

ุชู ุชูุนูู ูุธุงู ุฅุฏุงุฑุฉ ุงูููุธููู ุจุงููุงูู ูุน ุฌููุน ุงููุธุงุฆู ุงููุทููุจุฉ:

1. โ **ุฅุถุงูุฉ ููุธู** - ูุนูู ุจูุฌุงุญ
2. โ **ุชุนุฏูู ููุธู** - ูุนูู ุจูุฌุงุญ
3. โ **ุญุฐู/ุชุนุทูู ููุธู** - ูุนูู ุจูุฌุงุญ
4. โ **ุนุฑุถ ุชูุงุตูู ููุธู** - ูุนูู ุจูุฌุงุญ
5. โ **ุชุญููู ุชุฐูุฑุฉ** - ูุนูู ุจูุฌุงุญ
6. โ **ุฅุบูุงู ุชุฐูุฑุฉ** - ูุนูู ุจูุฌุงุญ

**ุฌููุน ุงููุธุงุฆู ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู!** ๐

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-01 19:12  
**ุจูุงุณุทุฉ:** Augment AI Agent

